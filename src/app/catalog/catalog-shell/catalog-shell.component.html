<!-- <pre>{{list$ | async | json}}</pre> -->
<!-- ğŸ”âœâŒâ¬…ï¸â¡ï¸ -->
@if (error$ | async) {
error
}
@if(loading$ | async) {
<loading />
}



@if (list$ | async; as list) { @if(!(loading$ | async)){
<h2>ğŸ—‚ï¸ Ğ—Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ğ¾ {{catalog.total()}} Ñ‚Ğ°Ğ¹Ñ‚Ğ»Ñ–Ğ² Ğ· ğŸ‡ºğŸ‡¦ Ğ¿ĞµÑ€ĞµĞºĞ»Ğ°Ğ´Ğ¾Ğ¼</h2>

<!-- <form action="/">
<input type="search" name="q">
<input type="hidden" name="page" value="1">
</form> -->

<section>
    @for (item of list.data; track $index) {
    <article #article [style]="{'--deg': item.deg+'deg'}">
        <img loading="lazy" [routerLink]="['/', item.id]"
            [src]="catalog.proxy.proxyUrl('https://mangadex.org/covers/'+item.id+'/'+MangadexHelper.getCover(item.relationships).attributes?.fileName+'.512.jpg')"
            alt="Cover {{MangadexHelper.getTitle(item.attributes)}}" (load)="averageColor($event, article)"
            crossOrigin="anonymous" />
        <a [routerLink]="['/', item.id]" style="line-break: loose;">
            <h3>
                <span [title]="item.attributes.status">{{MangadexHelper.statusMap.get(item.attributes.status)}}</span>
                <span
                    [title]="item.attributes.contentRating">{{MangadexHelper.contentRatingMap.get(item.attributes.contentRating)}}</span>
                {{MangadexHelper.getTitle(item.attributes)}}
            </h3>
        </a>
    </article>
    }

</section>

<div style="text-align: center;">
    ğŸ“„

    <ul style="display: inline-flex; margin: 0; font-family: 'Troubleside';
    padding: 0; gap: 1ch; list-style: none; align-items: center;">
        @for (item of catalog.getPaginationPages(catalog.total(), catalog.page(), catalog.limit()); track $index) {
        @if(item != -1){
        <li><a [ngClass]="{active: catalog.page() == item, disabled: catalog.page() == item}" class="button small"
                [routerLink]="'/'" [queryParams]="{page: item}">{{item}}</a></li>}
        @else {
        <separator />
        }
        }
    </ul>
</div>
}}